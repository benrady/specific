# Specific

Generate test doubles using clojure.spec

## Why?

Testing code that has side effects can be painful. Mocking out those interactions is a great way to keep your tests fast and reliable. Using clojure.spec, we can automatically generate those mocks.

## Dependencies

Specific depends on Clojure 1.9 (or 1.8 with the clojure.spec backport). To add the following to your project.clj file to add it to your project.

```clojure
(defproject sample
  :dependencies [[org.clojure/clojure "1.9.0"]]
  :profiles {:dev {:plugins [[com.benrady/specific "0.1.0"]]}})
```

## Usage

### Mock Functions

Mocking a function prevents the original function from being called, which is useful when you want to prevent side effects in a test, but still want to ensure it was invoked properly. Mocked functions validate their arguments against any specs defined for the original function. You can also add more constraints within the scope of the test.

Additionally, you can specify a subset of data as a return value, and let Specific generate the rest of the data using the function's spec.

### Stub Functions

Stubbing a function also prevents the original function from being invoked, but is much more liberal in what it accepts, and conservative in what it sends. Only the specs defined on the original function will be enforced. 

The data generated by a stub or mock will only change when the spec itself changes. 

### Spy Functions

## Example Project

Generative tests are nice, but sometimes you want example-based tests too. Using /Specific/, you can seamlessly marry the two. To see an example of this approach in action, check out the Example Project.
